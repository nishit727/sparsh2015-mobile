/*!
* Microtemplatez - a compact micro-templating implementation
* Copyright: Addy Osmani, 2011.
* Licensed under a dual-MIT/GPL license
*/

/*!
 * tap.js
 * Copyright (c) 2013 Alex Gibson, http://alxgbsn.co.uk/
 * Released under MIT license
 */

define("tmpl",[],function(){return templatez=function(e,t){return e.replace(RegExp("{{\\s*([a-z0-9_][.a-z0-9_]*)\\s*}}","gi"),function(e,n){var r=n.split("."),i=r.length,s=t,o=0;for(;o<i;o++)s=s[r[o]];return s})},templatez}),define("tap",[],function(){function e(e){this.el=typeof e=="object"?e:document.getElementById(e),this.moved=!1,this.startX=0,this.startY=0,this.hasTouchEventOccured=!1,this.el.addEventListener("touchstart",this,!1),this.el.addEventListener("mousedown",this,!1)}return e.prototype.start=function(e){e.type==="touchstart"?(this.hasTouchEventOccured=!0,this.el.addEventListener("touchmove",this,!1),this.el.addEventListener("touchend",this,!1),this.el.addEventListener("touchcancel",this,!1)):e.type==="mousedown"&&this.el.addEventListener("mouseup",this,!1),this.moved=!1,this.startX=e.type==="touchstart"?e.touches[0].clientX:e.clientX,this.startY=e.type==="touchstart"?e.touches[0].clientY:e.clientY},e.prototype.move=function(e){if(Math.abs(e.touches[0].clientX-this.startX)>10||Math.abs(e.touches[0].clientY-this.startY)>10)this.moved=!0},e.prototype.end=function(e){var t;this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.el.removeEventListener("touchcancel",this,!1),this.el.removeEventListener("mouseup",this,!1),this.moved||(window.CustomEvent?t=new window.CustomEvent("tap",{bubbles:!0,cancelable:!0}):(t=document.createEvent("Event"),t.initEvent("tap",!0,!0)),e.stopPropagation(),e.target.dispatchEvent(t)||e.preventDefault())},e.prototype.cancel=function(e){this.hasTouchEventOccured=!1,this.moved=!1,this.startX=0,this.startY=0},e.prototype.destroy=function(){this.el.removeEventListener("touchstart",this,!1),this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.el.removeEventListener("touchcancel",this,!1),this.el.removeEventListener("mousedown",this,!1),this.el.removeEventListener("mouseup",this,!1)},e.prototype.handleEvent=function(e){switch(e.type){case"touchstart":this.start(e);break;case"touchmove":this.move(e);break;case"touchend":this.end(e);break;case"touchcancel":this.cancel(e);break;case"mousedown":this.start(e);break;case"mouseup":this.end(e)}},e}),define("data/navData",[],function(){var e={};return e.length=8,e.hashes=["events","singing","dancing","fashion","celeb","social","contacts","ca"],e.colors=["#7e68b5","#0ed4c8","#eac05c","#ff6f6f","#80bc5d","#7e68b5","#0ed4c8","#eac05c"],e.height=51.25,e.scale=e.height/90,e.positions=[[0,0],[90,0],[180,0],[270,0],[360,0],[0,90],[90,90],[undefined,undefined]],e}),define("data/contactsData",[],function(){var e=[{name:"Dummy",designation:"Awesomeness Head",email:"dummy@example.com",tel:"+1234567890",year:"0th",department:"Creativity"},{name:"Dummy",designation:"Awesomeness Head",email:"dummy@example.com",tel:"+1234567890",year:"0th",department:"Creativity"},{name:"Dummy",designation:"Awesomeness Head",email:"dummy@example.com",tel:"+1234567890",year:"0th",department:"Creativity"},{name:"Dummy",designation:"Awesomeness Head",email:"dummy@example.com",tel:"+1234567890",year:"0th",department:"Creativity"},{name:"Dummy",designation:"Awesomeness Head",email:"dummy@example.com",tel:"+1234567890",year:"0th",department:"Creativity"}],t=80/170;e.size=1250*t+"px "+800*t+"px",e.positions=[[-500,0],[-680,0],[-860,0],[-500,-170],[-680,-170]];for(var n=0,r=5;n<r;n++)e.positions[n]=[e.positions[n][0]*t,e.positions[n][1]*t];return e}),require.config({paths:{backbone:"exoskeleton.min",tap:"tap",tmpl:"microtemplatez"}}),define("jquery",[],function(){}),define("underscore",["backbone"],function(e){return e.utils}),require(["tmpl","tap","data/navData","data/contactsData"],function(e,t,n,r){var i=function(e){return e.startsWith("#")?document.getElementById(e.substring(1)):e.startsWith(".")?document.getElementsByClassName(e.substring(1)):null};(function(){var t=i("#navigation"),r=i("#navigation-template").innerHTML,s="",o=n.scale;for(var u=0,a=n.length;u<a;u++)if(n.positions[u][0]!==undefined){var f="background: url('assets/stripe.png') no-repeat"+n.colors[u]+";"+"background-size: "+o*1250+"px "+o*800+"px"+";background-position: -"+n.positions[u][0]*o+"px -"+n.positions[u][1]*o+"px";s+=e(r,{hash:n.hashes[u],style:f,text:""})}else s+=e(r,{hash:n.hashes[u],style:"background: "+n.colors[u],text:"CA"});t.innerHTML=s})(),function(){var t=i("#contacts"),n=i("#contact-template").innerHTML,s='<div class="clearfill"></div>';for(var o=0,u=5;o<u;o++)s+=e(n,{dir:o%2?"right":"left",style:"background-size: "+r.size+";"+"background-position: "+r.positions[o][0]+"px "+r.positions[o][1]+"px",opposite:o%2?"left":"right",name:r[o].name,designation:r[o].designation,tel:r[o].tel});t.innerHTML=s,console.log(s)}(),function(){var e=-1;window.addEventListener("scroll",function(){window.scrollY>250?(i("#banner").className="show",i("#fixed-top").style="box-shadow: 0 0 5px #111"):(i("#banner").className="hide",i("#fixed-top").style="");var t=Math.floor((window.scrollY-409)/480);if(t!==e){e=t;var n=i(".navigation-item");for(var r=0,s=n.length;r<s;r++)r===t?n[r].classList.add("active"):n[r].classList.remove("active")}});var n=new t(i("#logo")),r=new t(i("#tweet")),s=new t(i("#banner"));i("#logo").addEventListener("tap",function(e){i("#navigation").classList.contains("nav-shown")?i("#navigation").className="":i("#navigation").className="nav-shown",e.preventDefault()},!1),i("#tweet").addEventListener("tap",function(){window.open("https://twitter.com/intent/tweet?button_hashtag=sparsh2015","_blank")},!1),i("#banner").addEventListener("tap",function(e){window.scrollTo(0,0),e.preventDefault()},!1);var o=new t(i("#dismiss"));i("#dismiss").addEventListener("tap",function(e){i("#remind").style.top="-50px"}),window.scrollTo(0,1)}()}),define("main",function(){});